<!-- ═══════════════════════════════════════════════════════════════════
     ARBITER LANDING — Investor pitch narrative
     Scrolls through 5 sections, then CTA to the interactive demo.
     ═══════════════════════════════════════════════════════════════════ -->

<div class="min-h-screen bg-surface-950">

  <!-- ── Minimal header ── -->
  <header class="sticky top-0 z-50 border-b border-surface-700 bg-surface-900/80 backdrop-blur-lg">
    <div class="container flex items-center justify-between py-4">
      <div class="flex items-center gap-3">
        <div class="flex h-9 w-9 items-center justify-center rounded-lg bg-arbiter-500 font-mono text-sm font-bold text-white">
          A
        </div>
        <div>
          <h1 class="text-lg font-semibold text-white">Arbiter</h1>
          <p class="text-xs text-slate-500">Bittensor Documentation Subnet</p>
        </div>
      </div>

      <a
        routerLink="/demo"
        class="rounded-lg bg-arbiter-500/10 px-4 py-2 text-sm font-medium text-arbiter-400 transition-all hover:bg-arbiter-500/20"
      >
        Skip to Demo →
      </a>
    </div>
  </header>

  <!-- ════════════════════════════════════════════════════════
       SECTION 0: HERO
       ════════════════════════════════════════════════════════ -->
  <section
    data-section="0"
    class="section-reveal container flex min-h-[70vh] flex-col justify-center py-20"
    [class.revealed]="isSectionRevealed(0)"
  >
    <div class="max-w-3xl space-y-6">
      <p class="text-sm font-medium uppercase tracking-widest text-arbiter-400">
        Bittensor Subnet
      </p>
      <h2 class="text-5xl font-bold leading-tight text-white md:text-6xl">
        Documentation for every function on
        <span class="text-arbiter-400">PyPI</span>.
      </h2>
      <p class="max-w-xl text-xl leading-relaxed text-slate-400">
        A decentralized network that pays miners to write high-quality documentation
        for undocumented open-source code — scored deterministically, rewarded in TAO.
      </p>

      <!-- Stat pills -->
      <div class="flex flex-wrap gap-3 pt-2">
        <div class="rounded-full border border-surface-700 bg-surface-800 px-4 py-2 text-sm">
          <span class="font-mono font-semibold text-arbiter-400">{{ stats.totalFunctionsScanned | number }}</span>
          <span class="text-slate-500"> functions scanned</span>
        </div>
        <div class="rounded-full border border-surface-700 bg-surface-800 px-4 py-2 text-sm">
          <span class="font-mono font-semibold text-arbiter-400">{{ stats.totalPackages }}</span>
          <span class="text-slate-500"> packages indexed</span>
        </div>
        <div class="rounded-full border border-surface-700 bg-surface-800 px-4 py-2 text-sm">
          <span class="font-mono font-semibold text-arbiter-400">{{ (stats.eligibilityRate * 100).toFixed(0) }}%</span>
          <span class="text-slate-500"> eligible for tasks</span>
        </div>
      </div>
    </div>
  </section>

  <!-- ════════════════════════════════════════════════════════
       SECTION 1: THE PROBLEM
       ════════════════════════════════════════════════════════ -->
  <section
    data-section="1"
    class="section-reveal container py-12"
    [class.revealed]="isSectionRevealed(1)"
  >
    <div class="space-y-8">
      <div class="max-w-2xl space-y-3">
        <p class="text-sm font-medium uppercase tracking-widest text-red-400">The Problem</p>
        <h3 class="text-4xl font-bold text-white">
          Most open-source code is <span class="text-red-400">undocumented</span>.
        </h3>
        <p class="text-lg leading-relaxed text-slate-400">
          This is a real function from a real PyPI package. No docstring. No type hints.
          No usage examples. This is the norm, not the exception.
        </p>
      </div>

      <div class="grid gap-8 lg:grid-cols-5">
        <!-- Code block (takes 3 cols) -->
        <div class="lg:col-span-3">
          <div class="space-y-2">
            <p class="text-sm text-slate-500">
              <span class="font-mono text-arbiter-400">{{ sampleFunction.task.package_name }}</span>
              &nbsp;→&nbsp;
              <span class="font-mono">{{ sampleFunction.task.function_name }}</span>
            </p>
            <app-code-block
              [title]="sampleFunction.task.function_name + '.py'"
              [code]="sampleFunction.source"
            />
          </div>
        </div>

        <!-- Stats (takes 2 cols) -->
        <div class="flex flex-col justify-center gap-4 lg:col-span-2">
          <div class="rounded-xl border border-surface-700 bg-surface-800 p-5">
            <p class="text-3xl font-bold text-white">450K+</p>
            <p class="mt-1 text-sm text-slate-500">Python packages on PyPI</p>
          </div>
          <div class="rounded-xl border border-red-500/20 bg-red-500/5 p-5">
            <p class="text-3xl font-bold text-red-400">~70%</p>
            <p class="mt-1 text-sm text-slate-500">Functions have no docstring</p>
          </div>
          <div class="rounded-xl border border-surface-700 bg-surface-800 p-5">
            <p class="text-3xl font-bold text-yellow-400">0</p>
            <p class="mt-1 text-sm text-slate-500">Type hints on this function</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ════════════════════════════════════════════════════════
       SECTION 2: THE SOLUTION — How it works
       ════════════════════════════════════════════════════════ -->
  <section
    data-section="2"
    class="section-reveal container py-12"
    [class.revealed]="isSectionRevealed(2)"
  >
    <div class="space-y-8">
      <div class="max-w-2xl space-y-3">
        <p class="text-sm font-medium uppercase tracking-widest text-arbiter-400">The Solution</p>
        <h3 class="text-4xl font-bold text-white">
          Market incentives for <span class="text-arbiter-400">documentation</span>.
        </h3>
        <p class="text-lg leading-relaxed text-slate-400">
          Arbiter turns documentation into a competitive market. Miners earn TAO by writing
          docs. Validators verify them deterministically. The best documentation wins.
        </p>
      </div>

      <!-- How it works — 5 step flow -->
      <div class="grid gap-4 md:grid-cols-5">
        <!-- Step 1: Validator selects -->
        <div class="flex flex-col items-center gap-3 rounded-2xl border border-surface-700 bg-surface-900 p-5 text-center">
          <div class="flex h-12 w-12 items-center justify-center rounded-xl bg-arbiter-500/20 text-xl">
            1
          </div>
          <h4 class="text-sm font-semibold text-white">Validator Selects</h4>
          <p class="text-xs leading-relaxed text-slate-500">
            Picks an undocumented function from 450K+ packages
          </p>
        </div>

        <!-- Step 2: Task sent -->
        <div class="flex flex-col items-center gap-3 rounded-2xl border border-surface-700 bg-surface-900 p-5 text-center">
          <div class="flex h-12 w-12 items-center justify-center rounded-xl bg-arbiter-500/20 text-xl">
            2
          </div>
          <h4 class="text-sm font-semibold text-white">Task Broadcast</h4>
          <p class="text-xs leading-relaxed text-slate-500">
            Miners receive the function signature — no source code
          </p>
        </div>

        <!-- Step 3: Miners compete -->
        <div class="flex flex-col items-center gap-3 rounded-2xl border border-surface-700 bg-surface-900 p-5 text-center">
          <div class="flex h-12 w-12 items-center justify-center rounded-xl bg-yellow-500/20 text-xl">
            3
          </div>
          <h4 class="text-sm font-semibold text-white">Miners Compete</h4>
          <p class="text-xs leading-relaxed text-slate-500">
            Write docstrings, type annotations, and runnable code examples
          </p>
        </div>

        <!-- Step 4: Scoring -->
        <div class="flex flex-col items-center gap-3 rounded-2xl border border-surface-700 bg-surface-900 p-5 text-center">
          <div class="flex h-12 w-12 items-center justify-center rounded-xl bg-arbiter-500/20 text-xl">
            4
          </div>
          <h4 class="text-sm font-semibold text-white">Code is Judge</h4>
          <p class="text-xs leading-relaxed text-slate-500">
            Examples execute in sandbox. Types checked. No subjectivity.
          </p>
        </div>

        <!-- Step 5: TAO rewards -->
        <div class="flex flex-col items-center gap-3 rounded-2xl border border-surface-700 bg-surface-900 p-5 text-center">
          <div class="flex h-12 w-12 items-center justify-center rounded-xl bg-emerald-500/20 text-xl">
            5
          </div>
          <h4 class="text-sm font-semibold text-white">TAO Rewards</h4>
          <p class="text-xs leading-relaxed text-slate-500">
            Best documentation earns TAO. Market drives quality up over time.
          </p>
        </div>
      </div>

      <!-- Anti-gaming callout -->
      <div class="rounded-xl border border-arbiter-500/20 bg-arbiter-500/5 p-5">
        <p class="text-sm font-medium text-arbiter-400">Why this can't be gamed</p>
        <p class="mt-1 text-sm leading-relaxed text-slate-400">
          Scoring is deterministic: code examples either execute correctly or they don't.
          Types either match or they don't. Every validator independently reaches the same score.
          There are no answers to leak, no subjective judgments to manipulate, and no collusion surface.
        </p>
      </div>
    </div>
  </section>

  <!-- ════════════════════════════════════════════════════════
       SECTION 3: DEVELOPER EXPERIENCE
       ════════════════════════════════════════════════════════ -->
  <section
    data-section="3"
    class="section-reveal container py-12"
    [class.revealed]="isSectionRevealed(3)"
  >
    <div class="space-y-8">
      <div class="max-w-2xl space-y-3">
        <p class="text-sm font-medium uppercase tracking-widest text-arbiter-400">Developer Experience</p>
        <h3 class="text-4xl font-bold text-white">
          Run a miner in <span class="text-arbiter-400">5 minutes</span>.
        </h3>
        <p class="text-lg leading-relaxed text-slate-400">
          No complex setup. Install the package, configure your strategy, and start earning.
          Validators and miners are standard Python processes that connect to Bittensor.
        </p>
      </div>

      <div class="grid gap-8 lg:grid-cols-2">
        <!-- Validator side -->
        <div class="space-y-4">
          <div class="flex items-center gap-2">
            <span class="rounded-md bg-arbiter-500/20 px-2 py-1 text-xs font-semibold text-arbiter-400">VALIDATOR</span>
            <span class="text-sm text-slate-500">Selects tasks & scores submissions</span>
          </div>
          <app-code-block
            title="terminal"
            [code]="validatorSetupCode"
          />
        </div>

        <!-- Miner side -->
        <div class="space-y-4">
          <div class="flex items-center gap-2">
            <span class="rounded-md bg-yellow-500/20 px-2 py-1 text-xs font-semibold text-yellow-400">MINER</span>
            <span class="text-sm text-slate-500">Generates documentation & earns TAO</span>
          </div>
          <app-code-block
            title="terminal"
            [code]="minerSetupCode"
          />
        </div>
      </div>

      <!-- Miner config -->
      <div class="space-y-4">
        <p class="text-sm font-medium text-slate-300">Miner configuration</p>
        <app-code-block
          title="miner-config.yaml"
          [code]="minerConfigCode"
        />
      </div>

      <!-- Strategy callout -->
      <div class="grid gap-4 md:grid-cols-3">
        <div class="rounded-xl border border-surface-700 bg-surface-800 p-4">
          <p class="text-sm font-semibold text-white">LLM-Powered</p>
          <p class="mt-1 text-xs leading-relaxed text-slate-500">
            Point any LLM at the source code. GPT-4, Claude, Llama — miners choose their model.
            Best quality, highest scores.
          </p>
        </div>
        <div class="rounded-xl border border-surface-700 bg-surface-800 p-4">
          <p class="text-sm font-semibold text-white">Hybrid</p>
          <p class="mt-1 text-xs leading-relaxed text-slate-500">
            LLM generates a draft, human refines it. Higher accuracy on complex functions.
            Good for specialized packages.
          </p>
        </div>
        <div class="rounded-xl border border-surface-700 bg-surface-800 p-4">
          <p class="text-sm font-semibold text-white">AST-Based</p>
          <p class="mt-1 text-xs leading-relaxed text-slate-500">
            Auto-generate from code analysis. Fast and cheap but lower quality.
            Good baseline, low barrier to entry.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- ════════════════════════════════════════════════════════
       SECTION 4: LIVE TERMINAL
       ════════════════════════════════════════════════════════ -->
  <section
    data-section="4"
    class="section-reveal container py-12"
    [class.revealed]="isSectionRevealed(4)"
  >
    <div class="space-y-8">
      <div class="max-w-2xl space-y-3">
        <p class="text-sm font-medium uppercase tracking-widest text-arbiter-400">Live Pipeline</p>
        <h3 class="text-4xl font-bold text-white">
          Watch it <span class="text-arbiter-400">work</span>.
        </h3>
        <p class="text-lg leading-relaxed text-slate-400">
          This is the real task generation pipeline running against {{ stats.totalFunctionsScanned | number }}
          functions from {{ stats.totalPackages }} PyPI packages. The validator scans, filters,
          and selects a function for miners to document.
        </p>
      </div>

      <app-terminal-simulation
        title="arbiter-validator ~ generate_task.py"
        [lines]="terminalLines"
        [active]="terminalActive()"
        [lineDelay]="50"
        [charDelay]="18"
      />
    </div>
  </section>

  <!-- ════════════════════════════════════════════════════════
       SECTION 5: CTA
       ════════════════════════════════════════════════════════ -->
  <section
    data-section="5"
    class="section-reveal container py-24"
    [class.revealed]="isSectionRevealed(5)"
  >
    <div class="flex flex-col items-center gap-6 text-center">
      <h3 class="text-4xl font-bold text-white">
        See the full scoring pipeline.
      </h3>
      <p class="max-w-lg text-lg text-slate-400">
        Walk through the complete loop: an undocumented function, competing miner submissions,
        and the deterministic scoring engine that judges them.
      </p>
      <a
        routerLink="/demo"
        class="rounded-xl bg-arbiter-500 px-8 py-4 text-lg font-semibold text-white shadow-lg shadow-arbiter-500/30 transition-all hover:bg-arbiter-600 hover:shadow-arbiter-500/40 active:scale-95"
      >
        Try the Interactive Demo →
      </a>
    </div>
  </section>

</div>
